{"version":3,"sources":["AuAuthInterceptor.ts","AuthorizationHelper.ts","shell.ts","config/environment.ts","config/main.ts","layout/layout.ts","login/login.ts","nav-bar/nav-bar.ts","resources/index.ts","settings/settings.ts","settings/TableEditor.ts","storage/storage.ts","layout/modals/reset-modal.ts","layout/ui-elements/ui-elements.ts","settings/add-custom-button/add-custom-button.ts","settings/buttons-list/buttons-list.ts","settings/grid/grid.ts","settings/info-table-button-editor/info-table-button-editor.ts","settings/level-button-editor/level-button-editor.ts","settings/print-button-editor/print-button-editor.ts","settings/remove-modal/remove-modal.ts","settings/table-button-editor/CommonTableImplementation.ts","settings/table-button-editor/table-button-editor.ts","shells/home/home-router.ts","storage/modals/add-file-modal.ts","resources/elements/color-selector/color-selector.ts","resources/elements/loader/loader.ts","resources/elements/modals/change-nav-modal.ts","shells/home/sidebar/sidebar-shell.ts","shells/home/users/users-shell.ts","shells/home/sidebar/item/item.ts","shells/home/sidebar/modals/add-user-modal.ts"],"names":[],"mappings":"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","file":"app-bundle.js","sourcesContent":["import { HttpRequestMessage, Interceptor } from \"aurelia-http-client\";\r\nimport { AuthorizationHelper } from \"./AuthorizationHelper\";\r\n\r\nexport class AuAuthInterceptor implements Interceptor {\r\n    \r\n    request(message: HttpRequestMessage) {\r\n        let authHeaderName = \"Authorization\";\r\n        if (message.headers.has(authHeaderName))\r\n            return message;\r\n        let token: string = AuthorizationHelper.getToken();\r\n        \r\n        message.headers.add(authHeaderName, `Bearer ${token}`);\r\n        return message;\r\n    }\r\n}","﻿// Возможно здесь будет проверка прав\r\nimport { HttpClient } from 'aurelia-http-client';\r\nimport { inject } from 'aurelia-framework';\r\nimport { AureliaConfiguration } from 'aurelia-configuration';\r\n\r\nexport class AuthorizationHelper {\r\n    static getToken(): string {\r\n        return sessionStorage.getItem(\"auth_token\");\r\n    }\r\n\r\n    static getRefreshToken(): string {\r\n        return sessionStorage.getItem(\"refresh_token\");\r\n    }\r\n\r\n    static setRefreshToken(refresh_token: string) {\r\n        sessionStorage.setItem(\"refresh_token\", refresh_token);\r\n    }\r\n\r\n    static isAuthorized(): boolean {\r\n        if (sessionStorage.getItem(\"auth_token\")) return true;\r\n        return false;\r\n    }\r\n\r\n    static setToken(auth_token: string): void {\r\n        sessionStorage.setItem(\"auth_token\", auth_token);\r\n    }\r\n\r\n    static clearAuthorized(): void {\r\n        sessionStorage.clear();\r\n    }\r\n\r\n    public userLogin: string;\r\n    public password: string;\r\n\r\n    constructor(@inject private http: HttpClient, @inject private configure: AureliaConfiguration) {\r\n    }\r\n\r\n    public grantOrRefreshToken(): Promise<boolean> {\r\n        let scope = \"XeroxInformationKiosk\";\r\n        let refreshToken = AuthorizationHelper.getRefreshToken();\r\n\r\n        const requestContent = refreshToken\r\n            ? `refresh_token=${refreshToken}&grant_type=refresh_token` //refresh\r\n            : `scope=${scope}&grant_type=client_credentials`; //grant\r\n        let authEndpoint = this.configure.get(\"authorization.authEndpoint\");\r\n        let authPath = this.configure.get(\"authorization.authPath\");\r\n        var authStr = btoa(this.userLogin + \":\" + this.password);\r\n\r\n        return this.http.createRequest(`${authEndpoint}${authPath}`)\r\n            .asPost()\r\n            .withContent(requestContent)\r\n            .withHeader(\"Authorization\", `Basic ${authStr}`)\r\n            .withHeader(\"Content-Type\", \"application/x-www-form-urlencoded;charset=utf-8\")\r\n            .send()\r\n            .then((response) => {\r\n                AuthorizationHelper.setToken(response.content.access_token);\r\n                AuthorizationHelper.setRefreshToken(response.content.refresh_token);\r\n\r\n                setTimeout(() => {\r\n                    if (AuthorizationHelper.getRefreshToken()) this.grantOrRefreshToken();\r\n                }, (0.1 * response.content.expires_in) * 1000);\r\n                \r\n                return true;\r\n            })\r\n            .catch(() => {\r\n                AuthorizationHelper.setToken(\"\");\r\n                return false;\r\n            });\r\n    }\r\n}","import {Aurelia, autoinject } from \"aurelia-framework\";\r\nimport { RouterConfiguration, NavigationInstruction, Next, Router, RouteConfig, ConfiguresRouter, Redirect } from \"aurelia-router\"\r\nimport { AuthorizationHelper } from \"./AuthorizationHelper\";\r\n\r\n@autoinject\r\nexport class ShellRouter implements ConfiguresRouter {\r\n  router: Router;\r\n\r\n  configureRouter(config: RouterConfiguration, router: Router) {\r\n    this.router = router;\r\n    config.addAuthorizeStep(AuthorizeRouterStep);\r\n    // конфигурируем главный роутер приложения\r\n    config.map([\r\n      {\r\n        route: \"layout\",\r\n        name: \"layout\",\r\n        moduleId: \"./layout/layout\",\r\n        nav: true,\r\n        settings: {\r\n          icon: \"account\",\r\n          position: \"bottom\",\r\n          title: \"Вариант верстки\"\r\n        },\r\n      },\r\n      {\r\n        route: \"settings\",\r\n        name: \"settings\",\r\n        moduleId: \"./settings/settings\",\r\n        nav: true,\r\n        settings: {\r\n          icon: \"account\",\r\n          position: \"bottom\",\r\n          title: \"Настройка\"\r\n        },  \r\n      },\r\n      {\r\n        route: \"storage\",\r\n        name: \"storage\",\r\n        moduleId: \"./storage/storage\",\r\n        nav: true,\r\n        settings: {\r\n          icon: \"account\",\r\n          position: \"bottom\",\r\n          title: \"Хранилище\"\r\n        },\r\n      }\r\n    ]);\r\n\r\n    config.mapUnknownRoutes({ route: \"\", redirect: \"layout\" } as RouteConfig);\r\n \r\n  }\r\n}\r\n\r\n@autoinject\r\nexport class AuthorizeRouterStep {\r\n\r\n  constructor(private aurelia: Aurelia) {\r\n  }\r\n\r\n  run(instruction: NavigationInstruction, next: Next): Promise<any> {    \r\n    if (!AuthorizationHelper.isAuthorized()) {\r\n      this.aurelia.setRoot('app/login/login');\r\n      return next.cancel(new Redirect(\"/\", { replace: true }));\r\n    }\r\n\r\n    return next();\r\n  }\r\n}","export default {\r\n  debug: true,\r\n  testing: false\r\n};\r\n","import { DialogConfiguration } from \"aurelia-dialog\";\r\nimport environment from \"./environment\";\r\nimport { Aurelia } from \"aurelia-framework\";\r\nimport { HttpClient } from 'aurelia-http-client';\r\nimport { AureliaConfiguration } from 'aurelia-configuration';\r\nimport { AuAuthInterceptor } from '../AuAuthInterceptor';\r\n\r\n\r\nexport function configure(aurelia: Aurelia) {\r\n    // конфигурируем приложение, подключаем используемые плагины\r\n    aurelia.use\r\n        .standardConfiguration()\r\n\r\n        .feature(\"app/resources\")\r\n        .plugin(\"aurelia-dialog\", (config: DialogConfiguration) => {\r\n            config.useDefaults();\r\n            config.settings.lock = true;\r\n            config.settings.centerHorizontalOnly = false;\r\n            config.settings.startingZIndex = 1000;\r\n        })\r\n        .plugin(\"aurelia-configuration\", (config: AureliaConfiguration) => {\r\n            config.setDirectory(\"\");\r\n            config.setConfig(\"application.json\");\r\n        })\r\n        .plugin('aurelia-validation')\r\n        .plugin('aurelia-notify')\r\n        .plugin('aurelia-dragula')\r\n        .plugin('aurelia-flatpickr');\r\n    if (environment.debug) {\r\n        aurelia.use.developmentLogging();\r\n    }\r\n\r\n    aurelia.start()\r\n        .then(() => {\r\n            configureInternal(aurelia);\r\n            aurelia.setRoot(\"app/shell\");\r\n        });\r\n}\r\n\r\nfunction configureInternal(aurelia: Aurelia) {\r\n    const container = aurelia.container;\r\n    const httpClient: HttpClient = container.get(HttpClient);\r\n    const aureliaConfiguration: AureliaConfiguration = container.get(AureliaConfiguration);\r\n\r\n    httpClient.configure(x => {\r\n        let port = aureliaConfiguration.get(\"api.port\");\r\n        let host = aureliaConfiguration.get(\"api.host\");\r\n        x.withBaseUrl('http://' + host + ':' + port);\r\n        x.withInterceptor(container.get(AuAuthInterceptor))\r\n    });\r\n}\r\n","import { autoinject } from 'aurelia-dependency-injection';\r\nimport { HttpClient } from 'aurelia-http-client';\r\nimport { DialogService } from 'aurelia-dialog';\r\nimport { ResetModal } from './modals/reset-modal';\r\nimport { NotificationService } from 'aurelia-notify';\r\nimport { ChangeNavModal } from '../resources/elements/modals/change-nav-modal';\r\nimport { TaskQueue } from 'aurelia-framework';\r\n\r\n\r\n@autoinject\r\nexport class LayoutOption {\r\n    fourSections: boolean = true;\r\n    threeSections: boolean;\r\n    layoutSettings: LayoutSettings;\r\n    imgList: IFileModel[] = [];\r\n    showLayout: boolean = true;\r\n    showLoader: boolean = false;\r\n    jsonlayoutSettings:string=\"\";\r\n\r\n    constructor(private http: HttpClient, private notificationService: NotificationService, private dialogService: DialogService,private taskQueue:TaskQueue) {\r\n\r\n    }\r\n\r\n    onSaveClick(): void {\r\n        this.showLoader = true;\r\n        this.http\r\n            .createRequest(`/api/layout-kiosk/save-layout`)\r\n            .asPost()\r\n            .withContent(this.layoutSettings)\r\n            .send()\r\n            .then(() => { this.notificationService.success(\"Данные сохранены\", { timeout: 3000 }); this.showLoader = false;  this.jsonlayoutSettings=JSON.stringify(this.layoutSettings); })\r\n            .catch(() => { this.notificationService.warning(\"Ошибка при сохранении данных\", { timeout: 3000 }); this.showLoader = false; });\r\n    }\r\n\r\n    attached() {\r\n        this.getLayoutSettings();\r\n        this.getAllImg();\r\n    }\r\n\r\n    public getLayoutSettings(): void {\r\n        this.showLoader = true;\r\n        this.http\r\n            .createRequest(`/api/layout-kiosk/get-layout`)\r\n            .asPost()\r\n            .send()\r\n            .then(data => {\r\n                this.layoutSettings = data.content;\r\n                this.taskQueue.queueTask(() => {\r\n                    this.jsonlayoutSettings=JSON.stringify(this.layoutSettings);\r\n                });  \r\n                this.showLoader = false;\r\n            }).catch(() => {\r\n                this.showLoader = false;\r\n                this.showLayout = false;\r\n                this.notificationService.warning(\"Ошибка при взятии данных\", {\r\n                    timeout: 3000\r\n                });\r\n            });\r\n    }\r\n\r\n\r\n    onResetClick() {\r\n        this.dialogService.open({ viewModel: ResetModal, model: this })\r\n            .whenClosed(response => {\r\n                if (!response.wasCancelled) {\r\n                    this.http\r\n                        .createRequest(`/api/layout-kiosk/set-default-settings`)\r\n                        .asPost()\r\n                        .send()\r\n                        .then(data => {\r\n                            this.layoutSettings = data.content;\r\n                            this.showLoader = false;\r\n                            this.taskQueue.queueTask(() => {\r\n                                this.jsonlayoutSettings=JSON.stringify(this.layoutSettings);\r\n                            });  \r\n                            this.notificationService.success(\"сброс настроек прошел успешно\", {\r\n                                timeout: 3000\r\n                            });\r\n                        }).catch(() => {\r\n                            this.showLoader = false;\r\n                            this.showLayout = false;\r\n                            this.notificationService.warning(\"Ошибка при сбросе настроек\", {\r\n                                timeout: 3000\r\n                            });\r\n                        });\r\n                }\r\n            });\r\n    }\r\n\r\n    getAllImg(): void {\r\n        this.http\r\n            .createRequest(`/api/storage/get-img`)\r\n            .asPost()\r\n            .send()\r\n            .then(data => {\r\n                this.imgList = data.content;\r\n            });\r\n    }\r\n\r\n    canDeactivate() {\r\n\r\n        return new Promise((resolve, reject) => {\r\n            let layoutSettings=JSON.stringify(this.layoutSettings)/*.replace(/\"/g,\"\")*/;\r\n            if (this.jsonlayoutSettings !== layoutSettings) {\r\n                this.dialogService.open({ viewModel: ChangeNavModal, model: {} })\r\n                    .whenClosed(response => {\r\n                        if (response.wasCancelled) {\r\n                            resolve(false);\r\n                        }\r\n                        else {\r\n                            resolve(true);\r\n                        }\r\n                    });\r\n            }\r\n            else resolve(true);\r\n        });\r\n    }\r\n}\r\n\r\n","import { AuthorizationHelper } from \"../AuthorizationHelper\";\r\nimport { inject, newInstance,Aurelia } from 'aurelia-framework';\r\nimport { ValidationRules, validationMessages, ValidationController } from 'aurelia-validation';\r\n\r\nexport class Login {\r\n    userLogin: string = \"\";\r\n    password: string = \"\";\r\n    showMessageRules: ValidationRules;\r\n    token: { refresh_token: string };\r\n\r\n    constructor(\r\n        @newInstance(ValidationController) private controller: ValidationController,\r\n        @inject private authorizationHelper: AuthorizationHelper,\r\n        @inject private aurelia: Aurelia) {\r\n        validationMessages['required'] = `Введите \\${$displayName}`;\r\n\r\n        ValidationRules.customRule(\r\n            'showMessage',\r\n            (value, obj) => false,\r\n            `Неверное имя или пароль`\r\n        );\r\n\r\n        this.showMessageRules = ValidationRules\r\n            .ensureObject().satisfiesRule('showMessage')\r\n            .rules\r\n\r\n        ValidationRules\r\n            .ensure((l: Login) => l.userLogin).displayName('имя пользователя').required()\r\n            .ensure((l: Login) => l.password).displayName('пароль').required()\r\n            .on(Login);\r\n    }\r\n\r\n    onLoginClick(): void {\r\n        this.controller.validate()\r\n            .then(result => {\r\n                if (result.valid) {\r\n                    this.authorizationHelper.userLogin = this.userLogin;\r\n                    this.authorizationHelper.password = this.password;\r\n                    this.authorizationHelper.grantOrRefreshToken()\r\n                        .then((isAuthorized: boolean) => {\r\n                            if (isAuthorized) {\r\n                                this.aurelia.setRoot('app/shell');\r\n                            }\r\n                            else {\r\n                                this.controller.validate({ object: this, rules: this.showMessageRules });\r\n                            }\r\n                        });\r\n\r\n                }\r\n            });\r\n    }\r\n}\r\n\r\n","import { Router } from \"aurelia-router\";\r\nimport {Aurelia, customElement, bindable, containerless, autoinject } from \"aurelia-framework\";\r\nimport { AuthorizationHelper } from \"../AuthorizationHelper\";\r\n\r\n\r\n@customElement(\"nav-bar\")\r\n@containerless\r\n@autoinject\r\nexport class Navbar {\r\n    @bindable router: Router;\r\n\r\n    aurelia: Aurelia;\r\n    constructor(aurelia:Aurelia) {\r\n        this.aurelia = aurelia;\r\n    }    \r\n\r\n    logout():void { \r\n        AuthorizationHelper.clearAuthorized();\r\n        this.aurelia.setRoot('app/login/login');\r\n    }\r\n}","import { FrameworkConfiguration } from \"aurelia-framework\";\r\n\r\nexport function configure(config: FrameworkConfiguration) {\r\n    config.globalResources([\r\n        \"./elements/loader/loader\",\r\n        \"./elements/color-selector/color-selector\"\r\n    ])\r\n}\r\n","import { autoinject } from 'aurelia-framework';\r\nimport { HttpClient } from 'aurelia-http-client';\r\nimport { NotificationService } from 'aurelia-notify';\r\nimport { Button } from '../../../custom_typings/Buttons/Button';\r\nimport { ButtonsList } from './buttons-list/buttons-list';\r\nimport { TableButtonEditor } from './table-button-editor/table-button-editor';\r\nimport { InfoTableButtonEditor } from './info-table-button-editor/info-table-button-editor';\r\nimport { ChangeNavModal } from '../resources/elements/modals/change-nav-modal';\r\nimport { DialogService } from 'aurelia-dialog';\r\n\r\n@autoinject    \r\nexport class Settings {\r\n    public currentButton: Button;\r\n    printFileList: IFileModel[] = [];\r\n    buttonsList: ButtonsList;\r\n    public level: number = 1;\r\n    tableButtonEditor: TableButtonEditor;\r\n    infoTableButtonEditor: InfoTableButtonEditor\r\n   \r\n\r\n    constructor(private http: HttpClient,private notificationService: NotificationService, private dialogService: DialogService) { \r\n    }\r\n\r\n    attached() {\r\n       this.getAllPrintFiles();   \r\n   }\r\n\r\n\r\n    getAllPrintFiles(): void {\r\n        this.http\r\n            .createRequest(`/api/storage/get-print-file`)\r\n            .asPost()\r\n            .send()\r\n            .then(data => {\r\n                this.printFileList = data.content;\r\n            })\r\n            .catch(() => {\r\n                this.notificationService.warning(\"Ошибка при взятии списка файлов для печати\", { timeout: 3000 });\r\n            });\r\n    }  \r\n\r\n    onNextLevel(): void {\r\n        this.buttonsList.onNextLevel();\r\n    } \r\n\r\n    itemDropped(item: HTMLElement, target: HTMLElement, source: HTMLElement, sibling: HTMLElement): void {\r\n        if (source.dataset[\"type\"] == \"ButtonsList\") {\r\n            this.buttonsList.itemDropped(item, target, source, sibling);\r\n        }\r\n\r\n        if (source.dataset[\"type\"] == \"TableButtonEditor\") {\r\n            if (this.currentButton.Table.Common) {\r\n                this.tableButtonEditor.itemDropped(item, target, source, sibling);\r\n            } else {\r\n                this.infoTableButtonEditor.itemDropped(item, target, source, sibling);\r\n            }\r\n        }\r\n    } \r\n\r\n    canDeactivate() {\r\n\r\n        return new Promise((resolve, reject) => {\r\n            let mainButtons=JSON.stringify(this.buttonsList.mainButtons);\r\n            if (this.buttonsList.jsonButtons !== mainButtons  ) {\r\n                this.dialogService.open({ viewModel: ChangeNavModal, model: {} })\r\n                    .whenClosed(response => {\r\n                        if (response.wasCancelled) {\r\n                            resolve(false);\r\n                        }\r\n                        else {\r\n                            resolve(true);\r\n                        }\r\n                    });\r\n            }\r\n            else resolve(true);\r\n        });\r\n    }\r\n\r\n    static readonly levelNames: string[] =\r\n        [, 'Второй', 'Третий', 'Четвертый', 'Пятый', 'Шестой', 'Седьмой', 'Восьмой', 'Девятый', 'Десятый'];\r\n    getLevelName(idx: number): string {\r\n        return (idx < 2) ? \"Главный экран\"\r\n            : ((idx <= Settings.levelNames.length ? Settings.levelNames[idx - 1] : idx + '-й') + ' уровень');\r\n    } \r\n}","import { Grid } from \"./grid/grid\";\r\nimport { Button } from \"../../../custom_typings/Buttons/Button\";\r\n\r\nexport class TableEditor {\r\n    public showDocumentForPrint: boolean = false;\r\n\r\n    protected  initDocumentToPrint(tableButton: Button):boolean {\r\n        if (tableButton.Table.PrintDocument) {\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    protected checkPercent(neededColumnsCount: number, tableButton: Button): string[] {\r\n        if (!Grid.checkPercent(tableButton.Table.ColumnWidths) || tableButton.Table.ColumnWidths.length != neededColumnsCount) {\r\n            tableButton.Table.ColumnWidths = [];\r\n            let columnWidth = 100 / neededColumnsCount;\r\n            for (let i = 0; i < neededColumnsCount; i++) {\r\n                tableButton.Table.ColumnWidths.push(columnWidth.toString());\r\n            }\r\n        }\r\n        return tableButton.Table.ColumnWidths.slice();\r\n    }\r\n\r\n   public onDocumentToPrintChecked(tableButton:Button) {\r\n        if (!this.showDocumentForPrint) {\r\n          tableButton.Table.PrintDocument = \"\";\r\n        }\r\n      }\r\n\r\n    protected static adjustByDateTime(row: string[], value: boolean) {\r\n        if (value) {\r\n            row.unshift(\"\");\r\n        } else {\r\n            row.shift();\r\n        }\r\n    }\r\n\r\n    protected static adjustByFileToPrint(row: string[], value: boolean) {\r\n        if (value) {\r\n            row.push(\"\");\r\n        } else {\r\n            row.pop();\r\n        }\r\n    }\r\n\r\n    protected static adjustRow(row: string[], showPrintFile: boolean, neededColumnsCount: number): void {\r\n        while (row.length < neededColumnsCount) {\r\n            if (showPrintFile) {\r\n                row.splice(row.length - 1, 0, \"\");\r\n            }\r\n            else {\r\n                row.push(\"\");\r\n            }\r\n        }\r\n\r\n        while (row.length > neededColumnsCount) {\r\n            if (showPrintFile) {\r\n                row.splice(row.length - 2, 1);\r\n            }\r\n            else {\r\n                row.pop();\r\n            }\r\n        }\r\n    }\r\n}","import { autoinject } from 'aurelia-dependency-injection';\r\nimport { HttpClient } from 'aurelia-http-client';\r\nimport { DialogService } from 'aurelia-dialog';\r\nimport { AddFileModal } from './modals/add-file-modal';\r\nimport { NotificationService } from 'aurelia-notify';\r\n\r\n@autoinject\r\nexport class Storage {\r\n    downloadedFiles: IFileModel[] = [];\r\n    showStorage: boolean= true;\r\n    showLoader: boolean = false;\r\n\r\n    constructor(private http: HttpClient, private dialogService: DialogService,private notificationService:NotificationService) {\r\n\r\n    }\r\n\r\n    addNewFile() {\r\n        this.dialogService.open({ viewModel: AddFileModal, model: {} })\r\n            .whenClosed(response => {\r\n                if (!response.wasCancelled) {\r\n                    this.updateForm();\r\n                }  \r\n            });\r\n    }\r\n\r\n    attached() {\r\n        this.updateForm();\r\n    }\r\n\r\n    updateForm() {\r\n        this.showLoader = true;\r\n        this.http\r\n            .createRequest(`/api/storage/getfilelist`)\r\n            .asPost()\r\n            .send()\r\n            .then(data => {\r\n                this.showLoader = false;\r\n                this.downloadedFiles = data.content;\r\n            }).catch(() => { this.showLoader = false;this.showStorage = false; this.notificationService.warning(\"Ошибка при загрузке списка файлов\", { timeout: 3000 }); });\r\n    }\r\n}\r\n","import { DialogController } from \"aurelia-dialog\";\r\nimport { autoinject } from 'aurelia-dependency-injection';\r\nimport { LayoutOption } from \"../layout\";\r\n\r\n@autoinject\r\nexport class ResetModal {\r\n  layoutOptions: LayoutOption;\r\n  constructor(private dialogController: DialogController ) {\r\n\r\n  }\r\n\r\n  activate(layoutOptions: LayoutOption) {\r\n    this.layoutOptions = layoutOptions;\r\n  }\r\n\r\n  async ok(e: MouseEvent) {\r\n    this.layoutOptions.getLayoutSettings();\r\n    this.dialogController.close(true);\r\n  }\r\n}\r\n","import { bindable } from 'aurelia-templating';\r\nimport { customElement, autoinject, bindingMode } from 'aurelia-framework';\r\n\r\n@autoinject\r\n@customElement(\"ui-elements\")\r\nexport class UIElements {\r\n    @bindable({ defaultBindingMode: bindingMode.twoWay }) style: StyleSettings;\r\n    @bindable title: string;\r\n    @bindable showBackgroundSelector: boolean = true;\r\n\r\n    onBoldClick():void { \r\n        if (this.style.fontWeight === \"bold\") this.style.fontWeight = \"normal\";\r\n        else this.style.fontWeight = \"bold\";\r\n    }\r\n\r\n    onItalicClick(): void { \r\n        if (this.style.fontStyle === \"italic\") this.style.fontStyle = \"normal\";\r\n        else this.style.fontStyle = \"italic\";\r\n    }\r\n\r\n    onUnderlineClick(): void { \r\n        if (this.style.textDecoration === \"underline\") this.style.textDecoration = \"none\";\r\n        else this.style.textDecoration = \"underline\";\r\n    }\r\n}   ","import { DialogController } from \"aurelia-dialog\";\r\nimport { autoinject } from 'aurelia-dependency-injection';\r\nimport { Button } from \"../../../../custom_typings/Buttons/Button\";\r\n\r\n@autoinject\r\nexport class AddCustomButton {\r\n  buttonTypes: ButtonType[] = [];\r\n\r\n  selectedButtonType: ButtonType = this.buttonTypes[0];\r\n  constructor(private dialogController: DialogController) {\r\n\r\n  }\r\n\r\n\r\n  activate() {\r\n    this.buttonTypes = [\r\n      { id: 0, name: 'Таблица' } as ButtonType,\r\n      { id: 1, name: 'Инфо-таблица' } as ButtonType,\r\n      { id: 2, name: 'Печать' } as ButtonType,\r\n      { id: 3, name: 'Уровень N' } as ButtonType\r\n    ];\r\n  }\r\n\r\n  async ok(e: MouseEvent) {\r\n    var button: Button;\r\n\r\n    switch (this.selectedButtonType.id) {\r\n        case 0: {\r\n        button = { Text: \"Таблица\", Table: { ColumnWidths: [], Info: null, Common: { ColumnsCount: 0, PrintFileColumn: false }, Table: [] }, Level: null, Print: null } as Button;\r\n        break;\r\n      }\r\n      case 1: {\r\n        button = { Text: \"Инфо-таблица\", Table: {ColumnWidths: [],Common:null,Table:[], Info: {ImageNumberColumn: false } }, Level: null, Print: null } as Button;\r\n        break;\r\n      }\r\n      case 2: {\r\n        button = { Text: \"Печать\", Print: {}, Level: null, Table: null } as Button;\r\n        break;\r\n      }\r\n      case 3: {\r\n        button = { Text: \"Уровень N\", Level: { Buttons: []}, Print: null, Table: null } as Button;\r\n        break;\r\n      }\r\n\r\n    }\r\n    this.dialogController.close(true, button);\r\n  }\r\n}\r\n","import { customElement, autoinject, bindingMode, TaskQueue } from 'aurelia-framework';\r\nimport { DialogService } from 'aurelia-dialog';\r\nimport { AddCustomButton } from '../add-custom-button/add-custom-button';\r\nimport { RemoveModal } from '../remove-modal/remove-modal';\r\nimport { HttpClient } from 'aurelia-http-client';\r\nimport { NotificationService } from 'aurelia-notify';\r\nimport { bindable } from 'aurelia-templating';\r\nimport { Button } from '../../../../custom_typings/Buttons/Button';\r\n\r\n@autoinject\r\n@customElement(\"buttons-list\")\r\nexport class ButtonsList {\r\n    mainButtons: Button[] = [];\r\n    @bindable({ defaultBindingMode: bindingMode.twoWay }) level: number = 1;\r\n    @bindable({ defaultBindingMode: bindingMode.twoWay }) selectedButton: Button;\r\n    showLoader: boolean = false;\r\n    private _currentLevelButtons: Button[] = this.mainButtons;\r\n    private _prevLevels: Button[][] = [];\r\n    @bindable printFileList: IFileModel[] = [];\r\n    jsonButtons: string = \"\";\r\n      \r\n\r\n    get currentLevelButtons(): Button[] {\r\n        return this._currentLevelButtons;\r\n    }\r\n    set currentLevelButtons(value: Button[]) {\r\n        this._currentLevelButtons = value;\r\n        this.level = this._prevLevels.length + 1;\r\n    }\r\n\r\n    constructor(private http: HttpClient, private notificationService: NotificationService, private dialogService: DialogService,private taskQueue:TaskQueue) {\r\n    }\r\n\r\n    selectButton(button: Button) {\r\n        this.selectedButton = button;\r\n    }\r\n\r\n    remove(): void {\r\n        this.dialogService.open({ viewModel: RemoveModal, model: {} })\r\n            .whenClosed(response => {\r\n                if (!response.wasCancelled) {\r\n                    var index = this.currentLevelButtons.indexOf(this.selectedButton, 0);\r\n                    if (index > -1) {\r\n                        this.selectedButton = null;\r\n                        this.currentLevelButtons.splice(index, 1);\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n    attached() {\r\n        this.getButtons();\r\n    }\r\n\r\n    async getButtons(): Promise<any> {\r\n        this.showLoader = true;\r\n        this.http\r\n            .createRequest(`/api/settings-kiosk/get-buttons`)\r\n            .asPost()\r\n            .send()\r\n            .then(data => {\r\n                this.showLoader = false;\r\n                this.mainButtons = data.content;\r\n                this.taskQueue.queueTask(() => { \r\n                    this.jsonButtons=JSON.stringify(this.mainButtons);  \r\n                }); \r\n                this.currentLevelButtons = this.mainButtons;\r\n            }).catch(() => { this.notificationService.warning(\"Ошибка при чтении данных\", { timeout: 3000 }); this.showLoader = false; });\r\n    }\r\n\r\n    public itemDropped(item: HTMLElement, target: HTMLElement, source: HTMLElement, sibling: HTMLElement): void {\r\n        let buttonIndex: number = Number(item.dataset[\"index\"]);\r\n        let siblingIndex: number = sibling ? Number(sibling.dataset[\"index\"]) : -1;\r\n        let button: Button = this.currentLevelButtons.splice(buttonIndex, 1)[0];\r\n\r\n        if (sibling) {\r\n            this.currentLevelButtons.splice((buttonIndex < siblingIndex) ? siblingIndex - 1 : siblingIndex, 0, button);\r\n        } else {\r\n            this.currentLevelButtons.push(button);\r\n        }\r\n    }\r\n\r\n    onBtnSaveClick(): void {\r\n        this.showLoader = true;\r\n        this.http\r\n            .createRequest(`/api/settings-kiosk/save-buttons`)\r\n            .asPost()\r\n            .withContent(this.mainButtons)\r\n            .send()\r\n            .then(() => { this.notificationService.success(\"Данные сохранены\", { timeout: 3000 }); this.showLoader = false; this.jsonButtons=JSON.stringify(this.mainButtons);  })\r\n            .catch(() => { this.notificationService.warning(\"Ошибка при сохранении данных\", { timeout: 3000 }); this.showLoader = false; });\r\n    }\r\n\r\n    add() {\r\n        this.dialogService.open({ viewModel: AddCustomButton })\r\n            .whenClosed(response => {\r\n                if (!response.wasCancelled) {\r\n                    let button: Button = response.output as Button;\r\n                    if (button.Print && this.printFileList.length > 0) {\r\n                        button.Print.Document = this.printFileList[0].FileName;\r\n                    }\r\n                    this.currentLevelButtons.push(button);\r\n                    this.selectButton(button)\r\n                }\r\n            });\r\n    }\r\n\r\n    public onNextLevel(): void {\r\n        if (this.selectedButton && this.selectedButton.Level) {\r\n            this._prevLevels.push(this.currentLevelButtons);\r\n            this.currentLevelButtons = this.selectedButton.Level.Buttons;\r\n            this.selectedButton = null;\r\n        }\r\n    }\r\n\r\n    onPrevLevel(): void {\r\n        this.currentLevelButtons = this._prevLevels.pop();\r\n        this.selectedButton = null;\r\n    }\r\n}   ","import { customElement } from 'aurelia-framework';\r\nimport { autoinject } from 'aurelia-dependency-injection';\r\nimport { bindable } from 'aurelia-templating';\r\nimport { bindingMode } from 'aurelia-binding';\r\nimport { Button } from '../../../../custom_typings/Buttons/Button';\r\nimport * as moment from 'moment';\r\nimport { DateTimeVariant } from '../../../../custom_typings/Buttons/DateTimeVariant';\r\nimport { NotificationService } from 'aurelia-notify';\r\n\r\n@autoinject\r\n@customElement(\"grid\")\r\nexport class Grid {\r\n    @bindable({ defaultBindingMode: bindingMode.twoWay }) tableButton: Button;\r\n    @bindable({ defaultBindingMode: bindingMode.twoWay }) rowToAdd: string[];\r\n    selectedRow: string[] = null;\r\n    editableRow: string[] = null;\r\n    @bindable printFileList: IFileModel[] = [];\r\n    @bindable imageList: IFileModel[] = [];\r\n    @bindable ({ defaultBindingMode: bindingMode.twoWay }) editPercentRow: string[] = [];\r\n    editableDetaTime: Date;\r\n    addDetaTime: Date;\r\n    @bindable dateTimeColumn: DateTimeVariant;\r\n    @bindable printFileColumn: boolean;\r\n    @bindable columnsCount: number;\r\n    @bindable urlForImg: string;\r\n    @bindable showImgNumber: boolean;\r\n\r\n    esc(uriComponent: string): string {\r\n        return encodeURIComponent(uriComponent);\r\n    }\r\n\r\n    constructor(private notificationService: NotificationService) {\r\n        \r\n    }\r\n\r\n    public itemDropped(item: HTMLElement, target: HTMLElement, source: HTMLElement, sibling: HTMLElement): void {\r\n        let rowIndex: number = Number(item.dataset[\"index\"]);\r\n        let siblingIndex: number = sibling ? Number(sibling.dataset[\"index\"]) : -1;\r\n        let row: string[] = this.tableButton.Table.Table.splice(rowIndex, 1)[0];\r\n\r\n        if (sibling) {\r\n            this.tableButton.Table.Table.splice((rowIndex < siblingIndex) ? siblingIndex - 1 : siblingIndex, 0, row);\r\n        } else {\r\n            this.tableButton.Table.Table.push(row);\r\n        }\r\n\r\n        if (this.tableButton.Table.Info && this.showImgNumber) {\r\n            for (let index = 0; index < this.tableButton.Table.Table.length; index++) {\r\n                this.tableButton.Table.Table[index][0] =(index + 1).toString();\r\n            }\r\n            this.refresh();\r\n        }\r\n    }\r\n\r\n    addRow(): void {\r\n        if (this.dateTimeColumn == DateTimeVariant.DateTime) {\r\n            this.rowToAdd[0] = moment(this.addDetaTime).format(\"DD.MM.YYYY HH:mm\");\r\n        }\r\n        if (this.dateTimeColumn == DateTimeVariant.Time) {\r\n            this.rowToAdd[0] = moment(this.addDetaTime).format(\"HH:mm\");\r\n        }\r\n\r\n        if (this.tableButton.Table.Info && this.showImgNumber) {\r\n\r\n            this.rowToAdd[0] = (this.tableButton.Table.Table.length + 1).toString();\r\n        }\r\n\r\n        for (let index = 0; index <  this.rowToAdd.length; index++) {\r\n            this.rowToAdd[index]=this.rowToAdd[index].replace(/\\n/g,\"<br />\");\r\n        }\r\n\r\n        this.tableButton.Table.Table.push(this.rowToAdd.slice());\r\n    }\r\n\r\n    onEditClick(index: number): void {\r\n        if (this.dateTimeColumn == DateTimeVariant.DateTime) {\r\n            this.editableDetaTime = this.tableButton.Table.Table[index][0] != \"\" ? moment(this.tableButton.Table.Table[index][0], \"DD.MM.YYYY HH:mm\").toDate() : new Date();\r\n        }\r\n        if (this.dateTimeColumn == DateTimeVariant.Time) {\r\n            this.editableDetaTime = this.tableButton.Table.Table[index][0] != \"\" ? moment(this.tableButton.Table.Table[index][0], \"HH:mm\").toDate() : new Date();\r\n        }\r\n        for (let i = 0; i <  this.tableButton.Table.Table[index].length; i++) {\r\n            this.tableButton.Table.Table[index][i]=this.tableButton.Table.Table[index][i].replace(/<br \\/>/g,\"\\n\");\r\n        }\r\n        this.editableRow = this.tableButton.Table.Table[index].slice();\r\n        this.selectedRow = this.tableButton.Table.Table[index];\r\n    }\r\n\r\n    public onOkClick(index: number) {\r\n        if (this.dateTimeColumn == DateTimeVariant.DateTime) {\r\n            this.editableRow[0] = moment(this.editableDetaTime).format(\"DD.MM.YYYY HH:mm\");\r\n        }\r\n        if (this.dateTimeColumn == DateTimeVariant.Time) {\r\n            this.editableRow[0] = moment(this.editableDetaTime).format(\"HH:mm\");\r\n        }\r\n\r\n        for (let i = 0; i <  this.editableRow.length; i++) {\r\n            this.editableRow[i]=this.editableRow[i].replace(/\\n/g,\"<br />\");\r\n        }\r\n\r\n        this.tableButton.Table.Table[index] = this.editableRow.slice();\r\n        this.refresh();\r\n    }\r\n\r\n   public refresh() { \r\n        //никак по-другому мы не смогли заставить показать обновленные данные\r\n        //https://github.com/aurelia/binding/issues/509\r\n        let tmp: string[][] = this.tableButton.Table.Table.slice();\r\n        this.tableButton.Table.Table.splice(0, this.tableButton.Table.Table.length);\r\n        tmp.forEach(row => this.tableButton.Table.Table.push(row.slice()));\r\n        this.selectedRow = null;\r\n    }\r\n\r\n    onCancel(): void {\r\n        this.selectedRow = null;\r\n    }\r\n\r\n    onDeleteClick(index: number) {\r\n        this.tableButton.Table.Table.splice(index, 1);\r\n    }\r\n\r\n    saveClick(): void {\r\n\r\n        if (Grid.checkPercent(this.editPercentRow)) {\r\n            this.tableButton.Table.ColumnWidths = this.editPercentRow.slice();\r\n            this.notificationService.success(\"Ширина колонок применена. Сохраните изменения дискеткой слева.\", { timeout: 6000 });\r\n        } else {\r\n            this.notificationService.warning(\"Все ячейки должны содержать положительные числа и их сумма должна быть равна 100\", { timeout: 3000 });\r\n        }\r\n    }\r\n\r\n    static checkPercent(editPercentRow: string[]): boolean {\r\n        let sum: number = 0;\r\n        let isNumber: boolean = true;\r\n\r\n        editPercentRow.forEach(element => {\r\n            if (isNaN(Number(element)) || Number(element) < 1) {\r\n                isNumber = false;\r\n                return\r\n            };\r\n            sum = sum + parseInt(element);\r\n        });\r\n\r\n        if (sum != 100) {\r\n            return false;\r\n        }\r\n        return isNumber;\r\n    }\r\n}","import {TaskQueue, customElement,bindingMode } from 'aurelia-framework';\r\nimport { autoinject } from 'aurelia-dependency-injection';\r\nimport { bindable } from 'aurelia-templating';\r\nimport { Button } from '../../../../custom_typings/Buttons/Button';\r\nimport { Grid } from '../grid/grid';\r\nimport { TableEditor } from '../TableEditor';\r\nimport { HttpClient } from 'aurelia-http-client';\r\nimport { AureliaConfiguration } from 'aurelia-configuration';\r\n\r\n\r\n@autoinject\r\n@customElement(\"info-table-button-editor\")\r\nexport class InfoTableButtonEditor extends TableEditor {\r\n    @bindable({ defaultBindingMode: bindingMode.twoWay }) tableButton: Button;\r\n    @bindable printFileList: IFileModel[] = [];\r\n    grid: Grid;\r\n    @bindable ({ defaultBindingMode: bindingMode.twoWay }) editPercentRow: string[] = [];\r\n    rowToAdd: string[] = [];\r\n    imageList: IFileModel[];\r\n    urlForImg: string;\r\n\r\n    \r\n    constructor(private taskQueue:TaskQueue,private http: HttpClient,private configure: AureliaConfiguration) {\r\n        super();\r\n    }\r\n\r\n    tableButtonChanged() {\r\n        this.taskQueue.queueTask(() => {\r\n            this.rowToAdd=[];\r\n            this.getAllImg();\r\n            this.getUrlForImg();\r\n            TableEditor.adjustRow(this.tableButton.Table.ColumnWidths, false, this.getNeededColumnCount());\r\n            TableEditor.adjustRow(this.rowToAdd, false, this.getNeededColumnCount());\r\n            this.editPercentRow = this.checkPercent(this.getNeededColumnCount(), this.tableButton);\r\n            this.showDocumentForPrint = this.initDocumentToPrint(this.tableButton);\r\n        });\r\n    }\r\n\r\n    private getNeededColumnCount(): number {\r\n        return 2\r\n          + (this.tableButton.Table.Info.ImageNumberColumn ? 1 : 0);\r\n      }\r\n   \r\n    getAllImg(): void {\r\n        this.http\r\n            .createRequest(`/api/storage/get-img`)\r\n            .asPost()\r\n            .send()\r\n            .then(data => {\r\n                this.imageList = data.content;\r\n            });\r\n    }\r\n\r\n    getUrlForImg() { \r\n        var port = this.configure.get(\"api.port\");\r\n        var host = this.configure.get(\"api.host\");\r\n        this.urlForImg = `http://${host}:${port}/api/storage/get-picture`;\r\n    }\r\n\r\n    onShowNumberChecked(value: boolean) {\r\n        this.rowToAdd=[];\r\n        this.grid.onCancel();\r\n        this.tableButton.Table.Table.forEach(row => {\r\n          TableEditor.adjustByDateTime(row, value);\r\n        });\r\n    \r\n        TableEditor.adjustByDateTime(this.rowToAdd, value);\r\n        TableEditor.adjustByDateTime(this.tableButton.Table.ColumnWidths, value);\r\n\r\n        if (this.tableButton.Table.Info && value) {\r\n                     for (let index = 0; index < this.tableButton.Table.Table.length; index++) {\r\n                         this.tableButton.Table.Table[index][0] =(index + 1).toString();\r\n                     }\r\n                 }\r\n        this.editPercentRow = this.checkPercent(this.getNeededColumnCount(), this.tableButton);\r\n      }\r\n\r\n    public itemDropped(item: HTMLElement, target: HTMLElement, source: HTMLElement, sibling: HTMLElement): void {\r\n        this.grid.itemDropped(item, target, source, sibling);\r\n      }\r\n    \r\n}","import { customElement, autoinject, bindingMode } from 'aurelia-framework';\r\nimport { bindable } from 'aurelia-templating';  \r\nimport { Button } from '../../../../custom_typings/Buttons/Button';\r\n\r\n@autoinject\r\n@customElement(\"level-button-editor\")\r\nexport class LevelButtonEditor {\r\n    @bindable({ defaultBindingMode: bindingMode.twoWay }) levelButton: Button;\r\n    @bindable onNextLevel: Function;\r\n}   ","import { customElement, autoinject, bindingMode } from 'aurelia-framework';\r\nimport { bindable } from 'aurelia-templating';  \r\nimport { Button } from '../../../../custom_typings/Buttons/Button';\r\n\r\n@autoinject\r\n@customElement(\"print-button-editor\")\r\nexport class PrintButtonEditor {\r\n    @bindable printFileList: IFileModel[] = []; \r\n    @bindable({ defaultBindingMode: bindingMode.twoWay }) printButton: Button;\r\n}   ","import { DialogController } from \"aurelia-dialog\";\r\nimport { autoinject } from 'aurelia-dependency-injection';\r\n\r\n@autoinject\r\nexport class RemoveModal {\r\n  isLoading: boolean = false;\r\n\r\n  constructor(private dialogController: DialogController) {\r\n\r\n  }\r\n\r\n  async ok(e: MouseEvent) {\r\n    this.dialogController.close(true);\r\n  }\r\n}\r\n","import {computedFrom} from 'aurelia-framework';\r\nimport { DateTimeVariant } from '../../../../custom_typings/Buttons/DateTimeVariant';\r\nimport { CommonTableProperties } from '../../../../custom_typings/Buttons/CommonTableProperties';\r\n\r\nexport class CommonTableImplementation implements CommonTableProperties {\r\n    ColumnsCount: number = 1;\r\n    DateTimeColumn: DateTimeVariant = null;\r\n\tPrintFileColumn: boolean = false;\r\n\t\r\n\tconstructor(src: CommonTableProperties) {\r\n\t\tif (src) {\r\n\t\t\tif (src.DateTimeColumn != DateTimeVariant.DateTime && src.DateTimeColumn != DateTimeVariant.Time)\r\n\t\t\t\tsrc.DateTimeColumn = null;\r\n\t\t\tthis.ColumnsCount = src.ColumnsCount;\r\n\t\t\tthis.DateTimeColumn = src.DateTimeColumn;\r\n\t\t\tthis.PrintFileColumn = src.PrintFileColumn;\r\n\t\t}\r\n\t}\r\n\r\n\t@computedFrom('DateTimeColumn')\r\n\tget DateTimeColumnExists(): boolean {\r\n\t\treturn this.DateTimeColumn != null;\r\n\t}\r\n\tset DateTimeColumnExists(val: boolean) {\r\n\t\tthis.DateTimeColumn = val ? DateTimeVariant.Time : null;\r\n\t}\r\n\r\n\t@computedFrom('ColumnsCount')\r\n\tget ColumnsCountString(): string {\r\n\t\treturn this.ColumnsCount.toString();\r\n\t}\r\n\tset ColumnsCountString(val: string) {\r\n\t\tlet valNumber = parseInt(val);\r\n\t\tif (!valNumber || valNumber == NaN || valNumber < 0) {\r\n\t\t\t//this.ColumnsCount = 1;\r\n\t\t\tthis.ColumnsCount = 0;\r\n\t\t} else {\r\n\t\t\tthis.ColumnsCount = valNumber;\r\n\t\t}\r\n\t}\r\n}","import { TaskQueue, customElement, bindingMode } from 'aurelia-framework';\r\nimport { bindable } from 'aurelia-templating';\r\nimport { autoinject } from 'aurelia-dependency-injection';\r\nimport { DateTimeVariant } from \"../../../../custom_typings/Buttons/DateTimeVariant\";\r\nimport { DateTimeOption } from \"../../../../custom_typings/Buttons/DateTimeOption\";\r\nimport { Button } from '../../../../custom_typings/Buttons/Button';\r\nimport { CommonTableImplementation } from './CommonTableImplementation';\r\nimport { Grid } from '../grid/grid';\r\nimport * as moment from 'moment';\r\nimport { TableEditor } from '../TableEditor';\r\n\r\n\r\n@autoinject\r\n@customElement(\"table-button-editor\")\r\nexport class TableButtonEditor extends TableEditor {\r\n  @bindable printFileList: IFileModel[] = [];\r\n  dateTimeTypes: DateTimeOption[] = [\r\n    { name: \"\", value: null } as DateTimeOption,\r\n    { name: \"Время\", value: DateTimeVariant.Time } as DateTimeOption,\r\n    { name: \"Дата/время\", value: DateTimeVariant.DateTime } as DateTimeOption\r\n  ];\r\n  @bindable({ defaultBindingMode: bindingMode.twoWay }) tableButton: Button;\r\n  rowToAdd: string[] = [];\r\n  @bindable ({ defaultBindingMode: bindingMode.twoWay }) editPercentRow: string[] = [];\r\n  grid: Grid;\r\n\r\n  constructor(private taskQueue:TaskQueue) {\r\n    super();\r\n  }\r\n\r\n  tableButtonChanged() {\r\n    this.taskQueue.queueTask(() => {\r\n      this.tableButton.Table.Common = new CommonTableImplementation(this.tableButton.Table.Common);\r\n      this.changeColumnsCount();\r\n      this.showDocumentForPrint = this.initDocumentToPrint(this.tableButton);\r\n    });  \r\n  }\r\n\r\n  onDateTimeColumnChanged(): void {\r\n    let dt: Date;\r\n    this.tableButton.Table.Table.forEach(row => {\r\n      if (this.tableButton.Table.Common.DateTimeColumn == DateTimeVariant.DateTime) {\r\n        dt = row[0] && row[0].length > 0 ? moment(row[0], \"HH:mm\").toDate() : new Date();\r\n        row[0] = moment(dt).format(\"DD.MM.YYYY HH:mm\");;\r\n      }\r\n      else {\r\n        dt = row[0] && row[0].length > 0 ? moment(row[0], \"DD.MM.YYYY HH:mm\").toDate() : new Date();\r\n        row[0] = moment(dt).format(\"HH:mm\");\r\n      }\r\n    });\r\n    //никак по-другому мы не смогли заставить показать обновленные данные\r\n    //https://github.com/aurelia/binding/issues/509\r\n    let tmp: string[][] = this.tableButton.Table.Table.slice();\r\n    this.tableButton.Table.Table.splice(0, this.tableButton.Table.Table.length);\r\n    tmp.forEach(row => this.tableButton.Table.Table.push(row.slice()));\r\n  }\r\n\r\n  changeColumnsCount(): void {\r\n    this.grid.onCancel();\r\n    this.rowToAdd = [];\r\n    let showPrintFile: boolean = this.tableButton.Table.Common.PrintFileColumn;\r\n    let neededColumnsCount: number = this.getNeededColumnCount();\r\n    this.tableButton.Table.Table.forEach(row => {\r\n      TableEditor.adjustRow(row, showPrintFile, neededColumnsCount);\r\n    });\r\n\r\n    TableEditor.adjustRow(this.rowToAdd, showPrintFile, neededColumnsCount);\r\n    TableEditor.adjustRow(this.tableButton.Table.ColumnWidths, showPrintFile, neededColumnsCount);\r\n\r\n    this.editPercentRow = this.checkPercent(this.getNeededColumnCount(), this.tableButton);\r\n  }\r\n\r\n  private getNeededColumnCount(): number {\r\n    return this.tableButton.Table.Common.ColumnsCount\r\n      + (this.tableButton.Table.Common.DateTimeColumn != null ? 1 : 0)\r\n      + (this.tableButton.Table.Common.PrintFileColumn ? 1 : 0);\r\n  }\r\n\r\n  onDateTimeChecked(value: boolean) {\r\n    this.grid.onCancel();\r\n    this.tableButton.Table.Common.DateTimeColumn = value ? DateTimeVariant.Time : null;\r\n    this.tableButton.Table.Table.forEach(row => {\r\n      TableEditor.adjustByDateTime(row, value);\r\n    });\r\n\r\n    TableEditor.adjustByDateTime(this.rowToAdd, value);\r\n\r\n    TableEditor.adjustByDateTime(this.tableButton.Table.ColumnWidths, value);\r\n\r\n    this.editPercentRow = this.checkPercent(this.getNeededColumnCount(), this.tableButton);\r\n  }\r\n\r\n  onFileToPrintChecked(value: boolean) {\r\n    this.grid.onCancel();\r\n    this.tableButton.Table.Common.PrintFileColumn = value;\r\n    this.tableButton.Table.Table.forEach(row => {\r\n      TableEditor.adjustByFileToPrint(row, value);\r\n    });\r\n    TableEditor.adjustByFileToPrint(this.rowToAdd, value);\r\n\r\n    TableEditor.adjustByFileToPrint(this.tableButton.Table.ColumnWidths, value);\r\n    this.editPercentRow = this.checkPercent(this.getNeededColumnCount(), this.tableButton);\r\n  }\r\n\r\n  \r\n\r\n  public itemDropped(item: HTMLElement, target: HTMLElement, source: HTMLElement, sibling: HTMLElement): void {\r\n    this.grid.itemDropped(item, target, source, sibling);\r\n  }\r\n}   ","import { Router, RouterConfiguration, ConfiguresRouter } from \"aurelia-router\"\r\nimport { autoinject } from \"aurelia-framework\";\r\nimport { containerless } from \"aurelia-templating\";\r\nimport { AuthorizationHelper } from \"../../AuthorizationHelper\";\r\n\r\n@autoinject\r\n@containerless    \r\nexport class CompaniesRouter implements ConfiguresRouter {\r\n    router: Router;\r\n    isAuthorized: boolean = false;\r\n\r\n    constructor() {\r\n      this.isAuthorized=AuthorizationHelper.isAuthorized();\r\n    }\r\n    configureRouter(config: RouterConfiguration, router: Router) {\r\n        this.router = router;\r\n          // конфигурируем child-роутер приложения\r\n        config.map([\r\n            {\r\n                route: \"\",\r\n                name: \"empty\",\r\n                viewPorts: {\r\n                    sidebar: { moduleId: \"./sidebar/sidebar-shell\" },\r\n                    shell: { moduleId: null}\r\n                },\r\n                nav: false\r\n            },\r\n            {\r\n                route: \"user/:id\",\r\n                name: \"user\",\r\n                viewPorts: {\r\n                    sidebar: { moduleId: \"./sidebar/sidebar-shell\" },\r\n                    shell: { moduleId: \"./users/users-shell\" }\r\n                },\r\n                nav: false\r\n            }\r\n           \r\n        ]);\r\n  \r\n        config.mapUnknownRoutes({ route: \"\", redirect: \"\" });\r\n    }\r\n}","import { DialogController } from \"aurelia-dialog\";\r\nimport { autoinject } from 'aurelia-dependency-injection';\r\nimport { HttpClient } from 'aurelia-http-client';\r\nimport { NotificationService } from 'aurelia-notify';\r\n\r\n@autoinject\r\nexport class AddFileModal {\r\n  file: File = null;\r\n  showLoader: boolean = false;\r\n\r\n  constructor(private dialogController: DialogController, private http: HttpClient, private notificationService: NotificationService) {\r\n\r\n  }\r\n\r\n  async ok(e: MouseEvent) {\r\n    var form = new FormData()\r\n    form.append('file', this.file[0])\r\n    this.showLoader = true;\r\n\r\n    this.http\r\n      .post(`/api/storage/upload`, form)\r\n      .then(response => {\r\n        this.dialogController.close(true);\r\n        this.showLoader = false;\r\n        this.notificationService.success(\"Файл загружен\", { timeout: 3000 });\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        this.notificationService.warning(\"Ошибка при загрузке файла\", { timeout: 3000 });\r\n      });\r\n  }\r\n}\r\n","import { bindable } from 'aurelia-templating';\r\nimport { customElement, autoinject, bindingMode } from 'aurelia-framework';\r\n\r\n@autoinject\r\n@customElement(\"color-selector\")\r\nexport class UserItem {\r\n    @bindable({ defaultBindingMode: bindingMode.twoWay }) selectedColor: string;\r\n    showColor: boolean = false;\r\n    @bindable colorSelectorType: string;\r\n    colors: Array<String> = [\"000000\",\"434343\",\"666666\",\"999999\",\"B7B7B7\",\"CCCCCC\",\"D9D9D9\",\"EFEFEF\",\"F3F3F3\",\"FFFFFF\",\"980000\",\"FF0000\",\"FF9900\",\"FFFF00\",\"00FF00\",\"00FFFF\",\"4A86E8\",\"0000FF\",\"9900FF\",\"FF00FF\",\"E6B8AF\",\"F4CCCC\",\"FCE5CD\",\"FFF2CC\",\"D9EAD3\",\"D0E0E3\",\"C9DAF8\",\"CFE2F3\",\"D9D2E9\",\"EAD1DC\",\"DD7E6B\",\"EA9999\",\"F9CB9C\",\"FFE599\",\"B6D7A8\",\"A2C4C9\",\"A4C2F4\",\"9FC5E8\",\"B4A7D6\",\"D5A6BD\",\"CC4125\",\"E06666\",\"F6B26B\",\"FFD966\",\"93C47D\",\"76A5AF\",\"6D9EEB\",\"6FA8DC\",\"8E7CC3\",\"C27BA0\",\"A61C00\",\"CC0000\",\"E69138\",\"F1C232\",\"6AA84F\",\"45818E\",\"3C78D8\",\"3D85C6\",\"674EA7\",\"A64D79\",\"85200C\",\"990000\",\"B45F06\",\"BF9000\",\"38761D\",\"134F5C\",\"1155CC\",\"0B5394\",\"351C75\",\"741B47\",\"5B0F00\",\"660000\",\"783F04\",\"7F6000\",\"274E13\",\"0C343D\",\"1C4587\",\"073763\",\"20124D\",\"4C1130\"];\r\n\r\n    onClickShowColor(): void { \r\n        this.showColor = !this.showColor;\r\n    }\r\n\r\n    onSelectedColor(color:string): void {\r\n        this.showColor = false;\r\n        this.selectedColor = color;\r\n    }\r\n\r\n    onBlurHideColor(event: FocusEvent) {\r\n        this.showColor = (event.relatedTarget && (event.relatedTarget as HTMLElement).classList.contains(\"colorscheme\"));\r\n    }\r\n}   ","import { customElement, autoinject } from 'aurelia-framework';\r\n\r\n@autoinject\r\n@customElement(\"loader\")\r\nexport class loader {\r\n    numberOfCircles: number = 12;\r\n}","import { autoinject } from 'aurelia-dependency-injection';\r\nimport { DialogController } from 'aurelia-dialog';\r\n\r\n@autoinject\r\nexport class ChangeNavModal {\r\n\r\n  constructor(private dialogController: DialogController) {\r\n\r\n  }\r\n  \r\n  async ok(e: MouseEvent) {\r\n    this.dialogController.close(true);\r\n  }\r\n}\r\n","import { autoinject } from 'aurelia-framework';\r\nimport { DialogService } from 'aurelia-dialog';\r\nimport { AddUserModal } from './modals/add-user-modal';\r\nimport { activationStrategy } from 'aurelia-router';\r\n\r\n@autoinject\r\nexport class SidebarShell {\r\n    users: IUser[] = [];\r\n    constructor(private dialogService: DialogService) {\r\n    }\r\n\r\n    determineActivationStrategy() {\r\n        return activationStrategy.invokeLifecycle;\r\n    }\r\n\r\n    attached() {\r\n        this.reload();\r\n    }\r\n\r\n    async reload(): Promise<any> {\r\n        this.users = [];\r\n        for (let i = 0; i < 10; i++) {\r\n            this.users.push({\r\n                Id: i,\r\n                Name: `User ${i}`,\r\n                Created: new Date().toLocaleString()\r\n            })\r\n        }\r\n    }\r\n\r\n    add() {\r\n        // пример использования модального окна\r\n        this.dialogService.open({ viewModel: AddUserModal, model: {} })\r\n        .whenClosed(response => {\r\n            if (!response.wasCancelled) {\r\n                this.users.push(<IUser>{ Id: this.users.length, Name: response.output.Name, Created: new Date().toLocaleString() })\r\n            }\r\n        });\r\n    }\r\n\r\n    delete(user: IUser, e: CustomEvent) {\r\n        if (this.users.length == 1) return;\r\n        var i = this.users.findIndex(u => u.Id == user.Id);\r\n        this.users.splice(i, 1);\r\n    }\r\n\r\n}","import { HttpClient, HttpResponseMessage } from 'aurelia-http-client';\r\nimport { autoinject } from 'aurelia-dependency-injection';\r\n\r\n@autoinject\r\nexport class UsersShell {\r\n\r\n    userId: any;\r\n\r\n    constructor(\r\n        private http: HttpClient) {\r\n    }\r\n\r\n    activate(params: any, routeConfig: any, navigationInstruction: any) {\r\n        // Получение параметра роутера\r\n        this.userId = params.id;\r\n    }\r\n\r\n    attached() {\r\n        // пример запроса к серверу\r\n        this.http\r\n            .createRequest(`/api/testing/success`)\r\n            .asGet()\r\n            .send()\r\n            .then((r: HttpResponseMessage) => {\r\n                console.log(\"%c Success: \" + r.content.Value, \"background: green; color: white\");\r\n            });\r\n    }\r\n}","import { Router } from 'aurelia-router';\r\nimport { bindable } from 'aurelia-templating';\r\nimport { customElement, autoinject } from 'aurelia-framework';\r\n\r\n@autoinject\r\n@customElement(\"user-item\")\r\nexport class UserItem {\r\n    @bindable data: IUser = undefined;\r\n    @bindable isLoading: boolean = false;\r\n    @bindable delete: any;\r\n\r\n    constructor(private router: Router) {\r\n    }\r\n\r\n    showUserInfo(e: CustomEvent) {\r\n        // производим переход на другой url с параметром (как в конфигурации child-роутера)\r\n        this.router.navigateToRoute(\"user\", { id: this.data.Id });\r\n    }\r\n}   ","import { DialogController } from \"aurelia-dialog\";\r\nimport { autoinject } from 'aurelia-dependency-injection';\r\n\r\n@autoinject\r\nexport class AddUserModal {\r\n  data: IUser;\r\n  isLoading: boolean = false;\r\n\r\n  constructor(private dialogController: DialogController) {\r\n\r\n  }\r\n\r\n  activate() {\r\n  }\r\n\r\n\r\n  async ok(e: MouseEvent) {\r\n    this.dialogController.close(true, this.data);\r\n  }\r\n}\r\n"],"sourceRoot":"../.."}