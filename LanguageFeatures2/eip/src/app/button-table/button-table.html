<template>
    <require from="../table.css"></require>
    <require from="../back-panel/back-panel"></require>
    <require from="../document-print/document-print"></require>
    <div class="button-table">
        <back-panel text.bind="button.Table.Title" settings-helper.bind="settingsHelper" id.bind="button.Id"></back-panel>
    </div>
    <document-print
        button.bind="button"
        document-from-table.bind="tableDocName"
        if.bind="showPrintDoc"
        show-print-control.bind="showPrintDoc" 
    ></document-print>

    <div if.bind="!showPrintDoc" class="container-fluid button-table table-container"  css.bind="settingsHelper.backgroundStyle">
        <div >
        <table css.bind="settingsHelper.tableStyle" class="table table-bordered pmd-table pmd-z-depth mb">
            <tr repeat.for="row of button.Table.Table">
                <td
                    css="width:${button.Table.ColumnWidths[$index]}%;${settingsHelper.gridStyle} ;
                    ${(row.length - 1) == $index && button.Table.Common.PrintFileColumn || $index == 0 && button.Table.Common.DateTimeColumn != 'None' ? 'text-align: center;' : ''} 
                    ${(row.length - 1) == $index && button.Table.Common.PrintFileColumn ? 'vertical-align: middle;' : ''}"
                    repeat.for="td of row"
                >
                    <span if.bind="!button.Table.Common.PrintFileColumn || $index != row.length - 1" innerhtml.bind="td"></span>

                    <button class="mdi mdi-printer btn pmd-btn-raised pmd-ripple-effect btn-default pmd-z-depth"
                        click.delegate="printDoc(td)"
                        if.bind="$index == row.length - 1 && td && button.Table.Common.PrintFileColumn"
                    ></button>
                </td>
            </tr>
        </table>
    </div>
        <button
            if.bind="button.Table.PrintDocument"
            css.bind="settingsHelper.printButtonStyle"
            click.delegate="print()"
            type="button"
            class="btn pmd-btn-raised pmd-ripple-effect btn-default col-xs-12 pmd-z-depth mb"
        >
            Печать документа
        </button>
    </div>
</template>