<template>
    <require from="../table.css"></require>
    <require from="../back-panel/back-panel"></require>
    <require from="../document-print/document-print"></require>

    <div class="info-table">
        <back-panel text.bind="button.Table.Title" settings-helper.bind="settingsHelper" id.bind="button.Id"></back-panel>
    </div>

    <document-print
        button.bind="button"
        if.bind="showPrintDoc"
        show-print-control.bind="showPrintDoc" 
    ></document-print>

    <div if.bind="!showPrintDoc" class="container-fluid info-table table-container"  css.bind="settingsHelper.backgroundStyle">
        <table
            css.bind="settingsHelper.tableStyle"
            class="table table-bordered pmd-table pmd-z-depth mb"
        >
            <tr repeat.for="row of button.Table.Table">
                <td
                    repeat.for="td of row"
                    css="width:${button.Table.ColumnWidths[$index]}%;${settingsHelper.gridStyle}; ${row.length == 3 && $index == 0? 'text-align: center;' : ''}"
                >
                    <span if.bind="$index != row.length-2" innerhtml.bind="td"></span>

                    <img
                        src="${settingsHelper.imgUrl}/?filename=${td}"
                        class="img-responsive"
                        if.bind="$index == row.length-2"
                    >
                </td>
            </tr>
        </table>

        <button
            if.bind="button.Table.PrintDocument"
            css.bind="settingsHelper.printButtonStyle"
            click.delegate="print()"
            type="button"
            class="btn pmd-btn-raised pmd-ripple-effect btn-default col-xs-12 pmd-z-depth mb"
        >
            Печать документа
        </button>
    </div>
</template>